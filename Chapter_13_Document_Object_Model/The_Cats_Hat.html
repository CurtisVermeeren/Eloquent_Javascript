<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>The Cat's Hat</title>
		<script src="mountains.js"></script>
		<script src="13_dom.js"></script>
	</head>
	<body>
	<img src="cat.png" id="cat" style="position: absolute">
	<img src="hat.png" id="hat" style="position: absolute">
	<script type="text/javascript">
	// Select the Cat and the Hat
	var cat = document.querySelector("#cat");
	var hat = document.querySelector("#hat");

	var angle = 0, lastTime = null;
	function animate(time){
		if (lastTime != null)
			angle += (time - lastTime) * 0.0015;
		lastTime = time;

		cat.style.top = (Math.sin(angle) * 50 + 80) + "px";
	    cat.style.left = (Math.cos(angle) * 200 + 230) + "px";
	    // By adding Ï€ to the angle, the hat ends up half a circle ahead of the cat
	    var hatAngle = angle + Math.PI;
	    hat.style.top = (Math.sin(hatAngle) * 50 + 80) + "px";
	    hat.style.left = (Math.cos(hatAngle) * 200 + 230) + "px";

		requestAnimationFrame(animate);
	}
	requestAnimationFrame(animate);

	</script>
	</body>
</html>
